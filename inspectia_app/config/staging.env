# =============================================================================
# CONFIGURATION STAGING INSPECTIA
# =============================================================================

# Environment
ENVIRONMENT=staging
DEBUG=false
LOG_LEVEL=INFO

# Database Configuration
DB_HOST=postgres
DB_PORT=5432
DB_NAME=inspectia_db_staging
DB_USER=inspectia_user
DB_PASSWORD=inspectia_pass_staging
DATABASE_URL=postgresql+asyncpg://inspectia_user:inspectia_pass_staging@postgres:5432/inspectia_db_staging

# MLflow Configuration
MLFLOW_TRACKING_URI=http://mlflow:5000
MLFLOW_BACKEND_STORE_URI=postgresql://inspectia_user:inspectia_pass_staging@postgres:5432/inspectia_db_staging

# Redis Configuration
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=redis_staging_password

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=2
API_MAX_REQUESTS=500
API_TIMEOUT=45

# Security (Staging)
SECRET_KEY=inspectia_secret_key_staging
JWT_SECRET_KEY=jwt_secret_key_staging
CORS_ORIGINS=["https://staging.inspectia.douanes.sn", "https://staging.inspectia.douanes.sn"]

# ML/RL Configuration
ML_MODELS_PATH=/app/models
RL_STORE_PATH=/app/rl_store
OCR_MODELS_PATH=/app/ocr_models

# Performance (Staging)
CACHE_TTL=1800
MAX_PREDICTION_BATCH_SIZE=50
ML_PREDICTION_TIMEOUT=90
RL_DECISION_TIMEOUT=45

# Monitoring (Staging)
PROMETHEUS_ENABLED=true
GRAFANA_ENABLED=true
METRICS_ENABLED=true

# Logging (Staging)
LOG_FORMAT=json
LOG_FILE_PATH=/app/logs
LOG_ROTATION_SIZE=50MB
LOG_RETENTION_DAYS=14

# SSL/TLS (Staging)
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/inspectia_staging.crt
SSL_KEY_PATH=/etc/ssl/private/inspectia_staging.key

# Backup Configuration (Staging)
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=14
BACKUP_PATH=/app/backups

# Alerting (Staging)
ALERT_EMAIL=staging@douanes.sn
ALERT_SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
ALERT_DISCORD_WEBHOOK=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK

# Feature Flags (Staging)
FEATURE_RL_ENABLED=true
FEATURE_ML_RETRAINING_ENABLED=true
FEATURE_OCR_ENABLED=true
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_REAL_TIME_MONITORING=true

# Rate Limiting (Staging)
RATE_LIMIT_REQUESTS_PER_MINUTE=500
RATE_LIMIT_BURST=100
RATE_LIMIT_ENABLED=true

# Health Checks (Staging)
HEALTH_CHECK_INTERVAL=20
HEALTH_CHECK_TIMEOUT=8
HEALTH_CHECK_RETRIES=3

# Database Pool (Staging)
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Cache Configuration (Staging)
CACHE_BACKEND=redis
CACHE_PREFIX=inspectia_staging
CACHE_DEFAULT_TTL=1800
CACHE_MAX_CONNECTIONS=50

# File Upload (Staging)
MAX_FILE_SIZE_MB=25
ALLOWED_FILE_TYPES=csv,pdf,jpg,jpeg,png,tiff,bmp
UPLOAD_PATH=/app/uploads
TEMP_PATH=/app/temp

# Model Configuration (Staging)
MODEL_CACHE_SIZE=5
MODEL_LOAD_TIMEOUT=45
MODEL_PREDICTION_BATCH_SIZE=25

# RL Configuration (Staging)
RL_EPSILON=0.2
RL_LEARNING_RATE=0.02
RL_EXPLORATION_DECAY=0.998
RL_MIN_EXPLORATION=0.1
RL_STRATEGY=hybrid

# OCR Configuration (Staging)
OCR_ENGINE=tesseract
OCR_LANGUAGE=fra
OCR_PSM=6
OCR_TIMEOUT=45

# Analytics (Staging)
ANALYTICS_ENABLED=true
ANALYTICS_RETENTION_DAYS=30
ANALYTICS_BATCH_SIZE=500

# Performance Monitoring (Staging)
PERF_MONITORING_ENABLED=true
PERF_SAMPLING_RATE=0.5
PERF_METRICS_RETENTION_DAYS=14

# Staging specific
STAGING_MODE=true
MOCK_EXTERNAL_SERVICES=false
FAST_TESTS=false
SKIP_SLOW_TESTS=false